<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Will You Be My Valentine? ‚ù§Ô∏è</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    :root {
      --pink: #ff4d6d;
      --bg1: #ff9a9e;
      --bg2: #fad0c4;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }
    .card {
      background: rgba(255,255,255,0.92);
      border-radius: 28px;
      padding: 22px 20px 18px;
      text-align: center;
      box-shadow: 0 18px 45px rgba(0,0,0,0.22);
      max-width: 460px;
      width: min(92vw, 460px);
      backdrop-filter: blur(6px);
      position: relative;
    }
    h1 {
      margin: 6px 0 10px;
      font-size: clamp(1.7rem, 4vw, 2.2rem);
      letter-spacing: -0.02em;
    }
    .subtitle {
      margin: 0 0 14px;
      color: #444;
      font-size: 1.02rem;
    }
    .badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      background: #fff;
      border: 1px solid rgba(0,0,0,0.06);
      border-radius: 999px;
      font-size: 0.95rem;
      color: #333;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
      margin-bottom: 10px;
    }
    .badge b { color: var(--pink); }
    .buttons {
      margin-top: 18px;
      display: flex;
      justify-content: center;
      gap: 18px;
      position: relative;
      height: 86px;
      user-select: none;
      touch-action: manipulation;
    }
    button {
      padding: 12px 26px;
      font-size: 1.08rem;
      border: none;
      border-radius: 999px;
      cursor: pointer;
      transition: transform 0.14s ease, box-shadow 0.14s ease;
      box-shadow: 0 10px 22px rgba(0,0,0,0.14);
      font-weight: 700;
    }
    button:active { transform: scale(0.98); }
    #yesBtn {
      background: var(--pink);
      color: #fff;
    }
    #yesBtn:hover { transform: translateY(-1px) scale(1.01); }
    #noBtn {
      background: #e8e8e8;
      color: #333;
      position: absolute;
      left: 62%;
      top: 8px;
    }
    .message {
      margin-top: 12px;
      font-size: 1rem;
      color: #333;
      min-height: 1.6em;
      font-weight: 600;
    }
    .gallery {
      margin-top: 14px;
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
    }
    .gallery img {
      width: 100%;
      aspect-ratio: 1 / 1;
      object-fit: cover;
      border-radius: 14px;
      border: 2px solid rgba(255,77,109,0.7);
      box-shadow: 0 10px 20px rgba(0,0,0,0.10);
      cursor: pointer;
      transition: transform 0.15s ease;
      background: rgba(255,255,255,0.6);
    }
    .gallery img:hover { transform: scale(1.03); }

    .hint {
      margin-top: 10px;
      color: #555;
      font-size: 0.95rem;
    }

    /* floating hearts */
    .hearts {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }
    .heart {
      position: absolute;
      color: rgba(255, 0, 100, 0.55);
      animation: float 6s linear infinite;
      will-change: transform, opacity;
      filter: drop-shadow(0 8px 10px rgba(0,0,0,0.10));
    }
    @keyframes float {
      from { transform: translateY(105vh) scale(0.85) rotate(0deg); opacity: 1; }
      to { transform: translateY(-15vh) scale(1.25) rotate(20deg); opacity: 0; }
    }

    /* confetti canvas sits above everything */
    #confettiCanvas {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 50;
    }

    /* success overlay */
    .overlay {
      position: fixed;
      inset: 0;
      display: none;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      z-index: 40;
      padding: 20px;
      text-align: center;
    }
    .overlay .inner {
      background: rgba(255,255,255,0.92);
      border-radius: 28px;
      padding: 26px 22px;
      max-width: 520px;
      width: min(92vw, 520px);
      box-shadow: 0 18px 45px rgba(0,0,0,0.22);
    }
    .overlay h2 {
      margin: 0 0 10px;
      font-size: clamp(2rem, 5vw, 3rem);
      letter-spacing: -0.02em;
    }
    .overlay p {
      margin: 8px 0;
      font-size: 1.15rem;
      color: #333;
      font-weight: 600;
    }
    .tiny {
      margin-top: 12px;
      font-size: 0.92rem;
      color: #555;
      font-weight: 500;
    }
    .audioRow {
      margin-top: 14px;
      display: flex;
      justify-content: center;
    }
    audio {
      width: min(420px, 86vw);
    }
    /* modal for larger pic */
    .modal {
      position: fixed;
      inset: 0;
      display: none;
      justify-content: center;
      align-items: center;
      background: rgba(0,0,0,0.6);
      z-index: 60;
      padding: 18px;
    }
    .modal img {
      max-width: min(92vw, 720px);
      max-height: min(86vh, 720px);
      border-radius: 18px;
      border: 2px solid rgba(255,255,255,0.55);
      box-shadow: 0 24px 70px rgba(0,0,0,0.45);
      background: #fff;
    }
  </style>
</head>
<body>
  <canvas id="confettiCanvas"></canvas>
  <div class="hearts" id="hearts"></div>

  <div class="card" id="card">
    <div class="badge">Status: <b>extremely</b> in love ‚úÖ</div>
    <h1>Will you be my Valentine? üíñ</h1>
    <p class="subtitle">Warning: the ‚ÄúNo‚Äù button has commitment issues.</p>

    <div class="buttons">
      <button id="yesBtn">Yes üíò</button>
      <button id="noBtn">No üôÉ</button>
    </div>

    <div class="message" id="message"></div>

    <div class="gallery" id="gallery"></div>
    <div class="hint">Tap a photo to zoom. (Also‚Ä¶ just press ‚ÄúYes‚Äù. üòå)</div>
  </div>

  <div class="overlay" id="overlay">
    <div class="inner">
      <h2>YAAAY!!! üíñüíñüíñ</h2>
      <p>Best decision ever üòò</p>
      <p>Happy Valentine‚Äôs Day, my love üíï</p>

      <div class="audioRow">
        <audio id="bgMusic" controls autoplay loop>
          <!-- IMPORTANT:
               For copyright reasons, this project does NOT include the song file.
               Add your own audio file at: assets/opriya.mp3
               (or change the src below to your filename) -->
          <source src="assets/opriya.mp3" type="audio/mpeg" />
          Your browser does not support the audio element.
        </audio>
      </div>

      <div class="tiny">
        If music doesn't autoplay, press play once (browser rules).
      </div>
    </div>
  </div>

  <div class="modal" id="modal">
    <img id="modalImg" alt="Zoomed memory" />
  </div>

  <script>
    // ====== CONFIG: Put your 4 pics in assets/ and name them here ======
    // Example names you can use:
    // assets/pic1.jpg, assets/pic2.jpg, assets/pic3.jpg, assets/pic4.jpg
    const GALLERY_IMAGES = [
      "assets/pic1.jpg",
      "assets/pic2.jpg",
      "assets/pic3.jpg",
      "assets/pic4.jpg"
    ];

    const messages = [
      "Nice try üòå",
      "Nope, that button is haunted üëª",
      "Why are you running? üèÉ‚Äç‚ôÇÔ∏èüí®",
      "Plot twist: destiny says YES üíñ",
      "Babe‚Ä¶ that‚Äôs not an option üòÇ",
      "Ok but‚Ä¶ YES looks really good on you üòá"
    ];

    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const messageEl = document.getElementById("message");
    const galleryEl = document.getElementById("gallery");
    const overlay = document.getElementById("overlay");
    const modal = document.getElementById("modal");
    const modalImg = document.getElementById("modalImg");

    let msgIndex = 0;

    function clamp(v, min, max) { return Math.max(min, Math.min(max, v)); }

    function moveNoButton() {
      const card = document.getElementById("card");
      const rect = card.getBoundingClientRect();

      const maxX = rect.width - noBtn.offsetWidth - 10;
      const maxY = rect.height - noBtn.offsetHeight - 10;

      const x = Math.random() * clamp(maxX, 40, maxX);
      const y = (Math.random() * clamp(maxY, 60, maxY)) * 0.55 + 10;

      noBtn.style.left = x + "px";
      noBtn.style.top = y + "px";

      messageEl.textContent = messages[msgIndex % messages.length];
      msgIndex++;
      // tiny shake for drama
      noBtn.style.transform = "translateY(-1px)";
      setTimeout(() => noBtn.style.transform = "translateY(0px)", 120);
    }

    // Works on desktop + mobile
    noBtn.addEventListener("mouseenter", moveNoButton);
    noBtn.addEventListener("mouseover", moveNoButton);
    noBtn.addEventListener("click", (e) => { e.preventDefault(); moveNoButton(); });
    noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); moveNoButton(); }, { passive: false });

    yesBtn.addEventListener("click", () => {
      overlay.style.display = "flex";
      startConfetti();
      // If browser blocks autoplay, user can press play in controls
      const music = document.getElementById("bgMusic");
      if (music) music.play().catch(() => {});
      // remove no-button stress
      noBtn.style.display = "none";
      messageEl.textContent = "Correct answer ‚úÖ";
    });

    // Gallery
    GALLERY_IMAGES.forEach((src) => {
      const img = document.createElement("img");
      img.src = src;
      img.alt = "Her pic";
      img.loading = "lazy";
      img.addEventListener("click", () => {
        modalImg.src = src;
        modal.style.display = "flex";
      });
      galleryEl.appendChild(img);
    });
    modal.addEventListener("click", () => {
      modal.style.display = "none";
      modalImg.src = "";
    });

    // Floating hearts
    const heartsContainer = document.getElementById("hearts");
    const heartGlyphs = ["‚ù§Ô∏è","üíó","üíñ","üíò","üíù","üíû"];
    function createHeart() {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.textContent = heartGlyphs[Math.floor(Math.random()*heartGlyphs.length)];
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.fontSize = (14 + Math.random() * 26) + "px";
      heart.style.animationDuration = (4 + Math.random() * 4) + "s";
      heartsContainer.appendChild(heart);
      setTimeout(() => heart.remove(), 8500);
    }
    setInterval(createHeart, 520);

    // ===== Confetti (lightweight canvas) =====
    const canvas = document.getElementById("confettiCanvas");
    const ctx = canvas.getContext("2d");
    let confetti = [];
    let confettiRunning = false;

    function resize() {
      canvas.width = window.innerWidth * devicePixelRatio;
      canvas.height = window.innerHeight * devicePixelRatio;
      ctx.setTransform(devicePixelRatio, 0, 0, devicePixelRatio, 0, 0);
    }
    window.addEventListener("resize", resize);
    resize();

    function spawnConfettiBurst(count = 180) {
      const w = window.innerWidth;
      const h = window.innerHeight;
      for (let i = 0; i < count; i++) {
        confetti.push({
          x: w * 0.5 + (Math.random() - 0.5) * 120,
          y: h * 0.35 + (Math.random() - 0.5) * 60,
          vx: (Math.random() - 0.5) * 10,
          vy: Math.random() * -10 - 4,
          g: 0.25 + Math.random() * 0.25,
          s: 5 + Math.random() * 6,
          r: Math.random() * Math.PI,
          vr: (Math.random() - 0.5) * 0.25,
          shape: Math.random() < 0.6 ? "rect" : "heart"
        });
      }
    }

    function drawHeart(x, y, size, rot) {
      ctx.save();
      ctx.translate(x, y);
      ctx.rotate(rot);
      ctx.beginPath();
      const s = size / 18;
      ctx.moveTo(0, 6*s);
      ctx.bezierCurveTo(0, 0, -10*s, 0, -10*s, 6*s);
      ctx.bezierCurveTo(-10*s, 12*s, 0, 15*s, 0, 18*s);
      ctx.bezierCurveTo(0, 15*s, 10*s, 12*s, 10*s, 6*s);
      ctx.bezierCurveTo(10*s, 0, 0, 0, 0, 6*s);
      ctx.closePath();
      ctx.fill();
      ctx.restore();
    }

    function step() {
      if (!confettiRunning) return;
      ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);

      for (let i = confetti.length - 1; i >= 0; i--) {
        const p = confetti[i];
        p.vy += p.g;
        p.x += p.vx;
        p.y += p.vy;
        p.r += p.vr;

        // color variety without hardcoding palette? (use HSL based on index randomness)
        const hue = (p.x + p.y) % 360;
        ctx.fillStyle = `hsla(${hue}, 85%, 60%, 0.9)`;

        if (p.shape === "rect") {
          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.r);
          ctx.fillRect(-p.s/2, -p.s/2, p.s, p.s * 0.7);
          ctx.restore();
        } else {
          drawHeart(p.x, p.y, p.s * 2.2, p.r);
        }

        if (p.y > window.innerHeight + 80 || p.x < -80 || p.x > window.innerWidth + 80) {
          confetti.splice(i, 1);
        }
      }

      // stop after it settles
      if (confetti.length === 0) {
        confettiRunning = false;
        ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);
        return;
      }
      requestAnimationFrame(step);
    }

    function startConfetti() {
      spawnConfettiBurst(220);
      // a couple extra bursts for drama
      setTimeout(() => spawnConfettiBurst(140), 400);
      setTimeout(() => spawnConfettiBurst(140), 900);
      if (!confettiRunning) {
        confettiRunning = true;
        requestAnimationFrame(step);
      }
    }
  </script>
</body>
</html>
